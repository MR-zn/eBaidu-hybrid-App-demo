<!--<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
body, html,#allmap {width: 1000px;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
#map {
	position: absolute;
	top: 0;
	right: 200px;
	width: 100px;
	height: 100%;
}
</style>
<script src="../js/mui.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=eYf9sA6yVTFHlh9ytU4a0EYY"></script>
<title>设置驾车路线途经点</title>
</head>
<body>
<div id="allmap"></div>
<div id="map">
	<input type="text" id="text" value="" />
	<input type="button" onclick="add()" id="aaa" value="获取经纬度" />
	<a id="output"></a>
</div>

<script type="text/javascript">

// 百度地图API功能
//var map = new BMap.Map("allmap");
//	map.centerAndZoom(new BMap.Point(120.705685, 27.929027), 11);
//map.enableScrollWheelZoom(true);
//	
//function add(){
////	,"浙江省瓯海区温州大学b区天天快递快递","浙江省瓯海区中心北路温州医学院学生公寓中通快递","浙江省温州市高教园区菜鸟驿站(医科大学小吃街荣兴超市对面)","浙江省温州市高教园区京东派(温州医科大学店)"
	var myKeys = ["浙江省温州职业技术学院菜鸟驿站","浙江省瓯海区温州大学b区天天快递快递"];
//	var local = new BMap.LocalSearch(map, {
//		renderOptions:{map: map, panel:"r-result"},
//		pageCapacity:10
//	});
//	local.searchInBounds(myKeys, map.getBounds());
//}

// 百度地图API功能
	var map = new BMap.Map("allmap");            // 创建Map实例
	var mPoint = new BMap.Point(120.705685, 27.929027);  
	map.enableScrollWheelZoom();
	map.centerAndZoom(mPoint,15);

	var circle = new BMap.Circle(mPoint,1500,{fillColor:"blue", strokeWeight: 1 ,fillOpacity: 0.3, strokeOpacity: 0.3});
    map.addOverlay(circle);
    var local =  new BMap.LocalSearch(map, {renderOptions: {map: map, autoViewport: false}});  
    local.searchNearby(myKeys,mPoint,1000);
// 百度地图API功能
//	var map = new BMap.Map("allmap");
//	var point = new BMap.Point(120.699390, 27.994920);
//	map.enableScrollWheelZoom(true);
//	map.centerAndZoom(point,12);
//	// 创建地址解析器实例
//	var myGeo = new BMap.Geocoder();
//	// 将地址解析结果显示在地图上,并调整地图视野
//	myGeo.getPoint("浙江省温州市瓯海区茶山街道温州职业技术学院菜鸟驿站(温职院生活区内优纳学驾中心)", function(point){
//		if (point) {
//			map.centerAndZoom(point, 19);
//			map.addOverlay(new BMap.Marker(point));
//		}else{
//			alert("您选择地址没有解析到结果!");
//		}
//	});
	
//	var E = 120.711712;
//	var N = 27.931691;
//	var start = new BMap.Point(120.708909,27.930073);
//	var end = new BMap.Point(120.707633,27.930531);
//	var throught = new BMap.Point(E,N);
//	
//	var driving = new BMap.DrivingRoute(map, {renderOptions:{map: map, autoViewport: true}});
//	driving.search(start, end,{waypoints:[throught]});//waypoints表示途经点

//(function($, doc) {
//				var getlocal = doc.getElementById('aaa');
//				var out=doc.getElementById('output');
//					mui.ajax({
//						type: 'get',
//						url: 'http://restapi.amap.com/v3/geocode/geo',
//						dataType: 'json',
//						data: {
//							'key':'2d5cd9f1bde675a7504665c0e332f2d6',
//							'address': '北京市海淀区上地十街10号',
//							'output': 'json'
//						},
//						success: function(data) {
////							console.log(data);
//								console.log(data.geocodes[0].location);
//						}
//					});
//}(mui, document));
</script>
</body>
</html>-->

<!--<html>  
<head>  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
    <style type="text/css">  
        body, html {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}  
        #allmap {position:absolute;left:0px;width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}  
    </style>  
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=6gK6hr0lk5LEx7bltIUAeYkHvzMULQDq"></script>  
    <title>车辆运行轨迹测试</title>  
    <script src="http://c.cnzz.com/core.php"></script></head>  
<body>  
<div id="allmap"></div>  
</body>  
</html>  
<script type="text/javascript">  
  
    var list = [{Long:106.652024,Lat:26.617221},{Long:106.658024,Lat:26.618221},{Long:106.657024,Lat:26.612221}];  
    var listLast = list.length-1;  
    // 百度地图API功能  
    var map = new BMap.Map("allmap");    // 创建Map实例  
    map.centerAndZoom(new BMap.Point(list[0].Long,list[0].Lat), 15);  // 初始化地图,设置中心点坐标和地图级别  
    map.addControl(new BMap.MapTypeControl());   //添加地图类型控件  
  
    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放  
  
    setTimeout(drawIcon,500);  
    var carMk;  
    var myBeginIcon = new BMap.Icon("http://e.hiphotos.baidu.com/image/pic/item/7e3e6709c93d70cfaf72bca2f0dcd100bba12b90.jpg", new BMap.Size(25,37), {imageOffset: new BMap.Size(0, 0)});//人  
    var myEndIcon = new BMap.Icon("http://b.hiphotos.baidu.com/image/pic/item/b58f8c5494eef01f534c096ae8fe9925bd317dc0.jpg", new BMap.Size(25,37), {imageOffset: new BMap.Size(0, 0)});//人  
  
    function drawGreenLine(i){  
        var polyline = new BMap.Polyline([  
            new BMap.Point(list[i].Long,list[i].Lat),//起始点的经纬度  
            new BMap.Point(list[i+1].Long,list[i+1].Lat)//终点的经纬度  
        ], {strokeColor:"green",//设置颜色  
            strokeWeight:4, //宽度  
            strokeOpacity:1});//透明度  
        map.addOverlay(polyline);  
    }  
  
    function drawIcon(){  
        if(carMk){  
            map.removeOverlay(carMk);  
        }  
        carMk2 = new BMap.Marker(  
                new BMap.Point(list[0].Long,list[0].Lat),//起始点的经纬度  
                {icon:myBeginIcon});  
        map.addOverlay(carMk2);  
  
        carMk = new BMap.Marker(  
                new BMap.Point(list[listLast].Long,list[listLast].Lat),//终点的经纬度  
                {icon:myEndIcon});  
        map.addOverlay(carMk);  
  
        for(var i=0;i<list.length-1;i++){  
            drawGreenLine(i);  
        }  
  
    }  
</script>  -->


<!--<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<style type="text/css">
		body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";font-size:14px;}
		#allmap{height:100%;width:100%;}
		#r-result{width:100%;position: absolute;left: 100px;top: 30px;}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=eYf9sA6yVTFHlh9ytU4a0EYY"></script>
	<title>关键字输入提示词条</title>
</head>
<body>
	<div id="allmap"></div>
	<div id="r-result">请输入:<input type="text" id="suggestId" size="20" value="百度" style="width:150px;" /></div>
	<div id="searchResultPanel" style="border:1px solid #C0C0C0;width:150px;height:auto; display:none;"></div>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	function G(id) {
		return document.getElementById(id);
	}

	var map = new BMap.Map("allmap");
	map.centerAndZoom("温州",16);                   // 初始化地图,设置城市和地图级别。
	

	var geolocation = new BMap.Geolocation();
	geolocation.enableSDKLocation();
	geolocation.getCurrentPosition(function(r){
		if(this.getStatus() == BMAP_STATUS_SUCCESS){
			var mk = new BMap.Marker(r.point);
			map.addOverlay(mk);
			map.panTo(r.point);
			alert('您的位置：'+r.point.lng+','+r.point.lat);
		}
		else {
			alert('failed'+this.getStatus());
		}        
	});
	
	var ac = new BMap.Autocomplete(    //建立一个自动完成的对象
		{"input" : "suggestId"
		,"location" : map
	});

	ac.addEventListener("onhighlight", function(e) {  //鼠标放在下拉列表上的事件
	var str = "";
		var _value = e.fromitem.value;
		var value = "";
		if (e.fromitem.index > -1) {
			value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
		}    
		str = "FromItem<br />index = " + e.fromitem.index + "<br />value = " + value;
		
		value = "";
		if (e.toitem.index > -1) {
			_value = e.toitem.value;
			value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
		}    
		str += "<br />ToItem<br />index = " + e.toitem.index + "<br />value = " + value;
		G("searchResultPanel").innerHTML = str;
	});

	var myValue;
	ac.addEventListener("onconfirm", function(e) {    //鼠标点击下拉列表后的事件
	var _value = e.item.value;
		myValue = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
		G("searchResultPanel").innerHTML ="onconfirm<br />index = " + e.item.index + "<br />myValue = " + myValue;
		
		setPlace();
	});

	function setPlace(){
		map.clearOverlays();    //清除地图上所有覆盖物
		function myFun(){
			var pp = local.getResults().getPoi(0).point;    //获取第一个智能搜索的结果
			map.centerAndZoom(pp, 18);
			map.addOverlay(new BMap.Marker(pp));    //添加标注
		}
		var local = new BMap.LocalSearch(map, { //智能搜索
		  onSearchComplete: myFun
		});
		local.search(myValue);
	}
</script>-->

<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
	</head>

	<body>
		
		<!-- 侧滑导航根容器 -->
		<div class="mui-off-canvas-wrap">
		  <!-- 主页面容器 -->
		  <div class="mui-inner-wrap">
		    <!-- 主页面标题 -->
				
			   			
		    	<div id="container">
			    	
			    	<div id="page_sec" class="index-page">
			    		<!--接单页-->
			    		<div id="map"></div>
			    		<div id="r-result" class="place-info">
			    			请输入:<input type="text" id="suggestId" value="" />
			    		</div>
			    		<div id="searchResultPanel" style="border:1px solid #C0C0C0;width:150px;height:auto; display:none;"></div>
			    	</div>
		    	</div>  
			</div>
		</div>

		<script src="../js/mui.min.js"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=6gK6hr0lk5LEx7bltIUAeYkHvzMULQDq"></script>
        <script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>
		<script>
			mui.init({
				statusBarBackground: '#f7f7f7'
			});
			var aniShow = "pop-in";
			var menu = null,
				showMenu = false;
			var isInTransition = false;
			var _self;
			//只有ios支持的功能需要在Android平台隐藏；
			
			//初始化，并预加载webview模式的选项卡			
			
			
			var posiTion = document.querySelector('.position a');
			
			function translatePoint(position) {
	            var currentLon = position.coords.longitude;
	            var currentLat = position.coords.latitude;
	            var gpsPoint = new BMap.Point(currentLon, currentLat);
	            BMap.Convertor.translate(gpsPoint, 2, initMap); //坐标转换
	        }
			function initMap(point) {
				
				var test = point;  
				var lng = test.lng;
				var lat = test.lat;
				console.log(lng);
				console.log(lat);
				var map = new BMap.Map("map");      
				map.centerAndZoom(point, 18);
				map.addOverlay(new BMap.Marker(point));
                map.addEventListener('touchmove',function(){
                	removeClass(putlist,'move');
                	document.querySelector('#suggestId').blur();
                	pix();
                })
				// 创建地理编码实例      
				var myGeo = new BMap.Geocoder();      
				// 根据坐标得到地址描述    
				myGeo.getLocation(new BMap.Point(lng, lat), function(result){      
				    if (result){      
				    posiTion.innerText = result.address;  
				    }      
				});
				
				
				function G(id) {
					return document.getElementById(id);
				}
				var ac = new BMap.Autocomplete(    //建立一个自动完成的对象
					{"input" : "suggestId"
					,"location" : map
				});
				ac.addEventListener("onhighlight", function(e) {  //鼠标放在下拉列表上的事件
					var str = "";
					var _value = e.fromitem.value;
					var value = "";
					if (e.fromitem.index > -1) {
						value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
					}    
					str = "FromItem<br />index = " + e.fromitem.index + "<br />value = " + value;
					
					value = "";
					if (e.toitem.index > -1) {
						_value = e.toitem.value;
						value = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
					}    
					str += "<br />ToItem<br />index = " + e.toitem.index + "<br />value = " + value;
					G("searchResultPanel").innerHTML = str;
				});
				var myValue;
				ac.addEventListener("onconfirm", function(e) {    //鼠标点击下拉列表后的事件
				var _value = e.item.value;
					myValue = _value.province +  _value.city +  _value.district +  _value.street +  _value.business;
					G("searchResultPanel").innerHTML ="onconfirm<br />index = " + e.item.index + "<br />myValue = " + myValue;
					
					setPlace();
				});
			
				function setPlace(){
//					map.clearOverlays();    //清除地图上所有覆盖物
					function myFun(){
						var pp = local.getResults().getPoi(0).point;    //获取第一个智能搜索的结果
						map.centerAndZoom(pp, 18);
						map.addOverlay(new BMap.Marker(pp));    //添加标注
					}
					var local = new BMap.LocalSearch(map, { //智能搜索
					  onSearchComplete: myFun
					});
					local.search(myValue);
				}
	
	
			}
			
			mui.plusReady(function() {
				
				//获取地址
				plus.geolocation.getCurrentPosition(translatePoint, function(e) {
                    mui.toast("异常:" + e.message);
                });
				
//				var clientH = plus.display.resolutionHeight;
//				var tHeight = plus.navigator.getStatusbarHeight();
//				document.querySelector('#show-once').style.paddingTop = tHeight + 'px';
//				document.querySelector('#show-once').style.height = clientH + 'px';
//				
				
				
			});
			
			/**
			 * 显示侧滑菜单
			 */
			function openMenu() {
				plus.webview.startAnimation({
						'view': _self,
						'styles': {
							'fromLeft': '0',
							'toLeft': "70%"
						},
						'action': 'show'
					}, {
						'view': menu,
						'styles': {
							'fromLeft': "-70%",
							'toLeft': '0'
						},
						'action': 'show'
					},
					function(e) {
						//console.log(JSON.stringify(e));
						if(e.id == menu.id) { //侧滑菜单打开
						}
					}.bind(this)
				)
			};
			/**
			 * 关闭菜单
			 */
			

			var _toast = false;

			mui.back = function() {
				if(parseInt(_self.getStyle().left) > 0) {
					closeMenu();
					return;
				}

				if(!_toast || !_toast.isVisible()) {
					_toast = mui.toast('再按一次返回键退出<br>', {//点此可&nbsp;<span style="border-bottom:1px solid #fff" onclick="openFeedback();">反馈意见</span>
						duration: 'long',
						type: 'div'
					});
				} else {
					plus.runtime.quit();
				}
			}

			//重写mui.menu方法，Android版本menu按键按下可自动打开、关闭侧滑菜单；
			mui.menu = function() {
				if(parseInt(_self.getStyle().left) > 0) {
					closeMenu();
				} else {
					openMenu();
				}
			}

			/**
			 * 退出时提醒用户参加问题反馈
			 */
			function openFeedback() {
				plus.nativeUI.showWaiting();
				var _p = plus.os.name === 'Android' ? 'a' : plus.os.name === 'iOS' ? 'i' : '';
				//TODO：这里使用的是FeedBack云地址，开发者也可以替换为本地页面地址
				var url = 'http://stream.dcloud.net.cn/wap2app/feedback?p=' + _p;
				url += "&plus_version=" + plus.runtime.innerVersion;
				url += "&vendor=" + plus.device.vendor;
				url += "&md=" + plus.device.model;
				/*****开发者需修改的部分   开始*****/
				url += "&app_name=HelloMUI&app_vendor=DCloud";
				//如有本地关于页面，则填写关于页面的路径
				//注意：需要_www/前缀
				url += "&about=_www/examples/info.html";
				/*****开发者需修改的部分   结束*****/

				var feedbackWebview = plus.webview.create(url, "__W2A_FEEDBACK");
				feedbackWebview.addEventListener('titleUpdate', function() {
					plus.nativeUI.closeWaiting();
					feedbackWebview.show('slide-in-right', 200);
				});
			}
		</script>
	</body>

</html>